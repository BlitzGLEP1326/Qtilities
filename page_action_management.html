<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Qtilities: Action Management</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<!-- Generated by Doxygen 1.8.1.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Action Management </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><table  cellpadding="0" style="width:100%;
  table-layout:fixed;
	margin:0px 0px 0px 0px;
	border-width:0px 0px 0px 0px; 
	border-color:#7F7F7F;">
<tr>
<td style="width:80%; padding:0px 5px 0px 0px; vertical-align: text-top; text-align: left"><h1 style="margin:0px; padding:0px">Overview</h1>
<p></p>
<p>Qtilities provides classes to allow management of actions and shortcuts in a Qt application. In small applications it is easy to do action management manually but as applications get bigger, its useful an it saves time to use a proper action management system. The action manager allows actions and shortcuts to be linked with contexts and to change their behavior depending on the active contexts. An command editor widget is provided to allow users to change their application wide shortcut settings, or to export and import previous sessions.</p>
<p>The action provider concept is introduced where objects can provide actions to other objects or views and lastly, a clipboard manager is provided allowing management of the application clipboard.</p>
<p>This article will explore these features and show how to include the functionality in your application.</p>
<p>Table of contents:</p>
<ul>
<li><a class="el" href="page_action_management.html#context_manager">The Context Manager</a></li>
<li><a class="el" href="page_action_management.html#action_manager">The Action Manager</a><ul>
<li><a class="el" href="page_action_management.html#menus_and_menubars">Menus and Menu Bars</a></li>
<li><a class="el" href="page_action_management.html#actions_and_shortcuts">Actions and Shortcuts</a><ul>
<li><a class="el" href="page_action_management.html#actions_and_shortcuts_registering_actions">Registering Actions and Shortcuts</a></li>
<li><a class="el" href="page_action_management.html#actions_and_shortcuts_proxy_actions">Proxy Actions</a></li>
<li><a class="el" href="page_action_management.html#actions_and_shortcuts_action_place_holders">Action Placeholders</a></li>
<li><a class="el" href="page_action_management.html#actions_and_shortcuts_defined_actions">Defined Actions</a></li>
<li><a class="el" href="page_action_management.html#actions_and_shortcuts_configurations">Shortcut Configurations</a></li>
<li><a class="el" href="page_action_management.html#actions_and_shortcuts_debugging">Debugging Actions</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="el" href="page_action_management.html#clipboard_manager">The Clipboard Manager</a></li>
</ul>
<p></p>
<p class="endtd"></p>
</td><td style="width:20%; vertical-align: top; margin:0px 0px 0px 0px;"><table  style="table-layout:auto;
	margin:0px 0px 0px 0px; 
  width: 100%;
	border-width:0px 0px 0px 0px; 
	border-color:#7F7F7F;
  background-color: #d1d3d4;">
<tr>
<td style="background-color: #5a5c5e; text-align: center"><h2 style="color:#FFFFFF">First Steps</h2>
<p class="endtd"></p>
</td></tr>
<tr>
<td><ul>
<li><a href="page_getting_started.html">Getting Started</a><br/>
</li>
<li><a href="page_the_basics.html">The Basics</a><br/>
</li>
<li><a href="page_examples_and_plugins.html">Examples and Plugins</a><br/>
   </li>
</ul>
</td></tr>
<tr>
<td style="background-color: #5a5c5e; text-align: center"><h2 style="color:#FFFFFF">Overviews</h2>
<p class="endtd"></p>
</td></tr>
<tr>
<td><ul>
<li><a href="page_action_management.html">Action Management</a><br/>
</li>
<li><a href="page_tree_structures.html">Building Trees</a><br/>
</li>
<li><a href="page_debugging.html">Debugging Applications</a><br/>
</li>
<li><a href="page_extension_system.html">Extension System</a><br/>
</li>
<li><a href="page_factories.html">Factories</a><br/>
</li>
<li><a href="page_logging.html">Logging</a><br/>
</li>
<li><a href="page_modules_overview.html">Modules</a><br/>
</li>
<li><a href="page_object_management.html">Object Management</a><br/>
</li>
<li><a href="page_observers.html">Observers</a><br/>
</li>
<li><a href="page_observer_widgets.html">Observer Widgets</a><br/>
</li>
<li><a href="page_project_management.html">Project Management</a><br/>
</li>
<li><a href="page_tasking.html">Tasking</a><br/>
</li>
<li><a href="page_widget_set.html">Widget Set</a><br/>
   </li>
</ul>
</td></tr>
</table>
<p class="endtd"></p>
</td></tr>
</table>
<h1><a class="anchor" id="context_manager"></a>
The Context Manager</h1>
<p>Since actions registered in the action manager are associated with specific contexts it makes sense to provide an overview of the context manager first.</p>
<p>A context represents a set of conditions under which actions must be enabled or disabled. Thus depending on your application's state you would like different actions to be enabled and others to be disabled, or a specific shortcuts must trigger different slots in your code depending on the application state.</p>
<p>Contexts can easily be registered and for each context an unique ID is retured, for example:</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> context_id = CONTEXT_MANAGER-&gt;registerContext(<span class="stringliteral">&quot;My Context&quot;</span>);</div>
</div><!-- fragment --><p>It is possible to access and control a context through either its name or id. At any given time one or more contexts can be active and you can change the active contexts at any time:</p>
<div class="fragment"><div class="line"><span class="comment">// Using the context name:</span></div>
<div class="line">CONTEXT_MANAGER-&gt;setNewContext(<span class="stringliteral">&quot;My Context&quot;</span>);</div>
<div class="line"><span class="comment">// Using the context ID:</span></div>
<div class="line">CONTEXT_MANAGER-&gt;setNewContext(1);</div>
<div class="line"></div>
<div class="line"><span class="comment">// New contexts can be appended to the active set of contexts:</span></div>
<div class="line">CONTEXT_MANAGER-&gt;appendContext(<span class="stringliteral">&quot;Another Context&quot;</span>);</div>
</div><!-- fragment --><p>Qtilities provides the <a class="el" href="namespace_qtilities_1_1_core_1_1_constants.html#a3e05a614010d74f8de61660fb95c0656" title="The standard context used in the Qtilities::Core::ContextManager class. This context is always active...">Qtilities::Core::Constants::qti_def_CONTEXT_STANDARD</a> context which is always active. Thus if it is needed to use a context which will always be active, the standard context must be used.</p>
<p>The <a class="el" href="class_qtilities_1_1_core_1_1_interfaces_1_1_i_context.html" title="Objects implementing this interface will have a context associated with them.">Qtilities::Core::Interfaces::IContext</a> interface allows objects to indicate that they represent an context. When objects representing this interface are registered in the global object pool their context will automatically be added to the context manager.</p>
<p>The Qtilities Debug Plugin provides an overview of the context manager's state at any time and allows you to change active contexts in your application at runtime for debugging purposes.</p>
<div class="image">
<img src="debugging_state_contexts.jpg" alt="debugging_state_contexts.jpg"/>
<div class="caption">
Context Manager Overview</div></div>
<p> For more information see the <a class="el" href="class_qtilities_1_1_core_1_1_interfaces_1_1_i_context_manager.html" title="Interface used to communicate with the context manager.">Qtilities::Core::Interfaces::IContextManager</a> documentation.</p>
<h1><a class="anchor" id="action_manager"></a>
The Action Manager</h1>
<p>Qtilities provides an action manager which greatly simplifies action and shortcut management in Qt applications. The architecture of the action manager was inspired by the action management architecture used in Qt Creator and has proven to work very well.</p>
<p>The action manager is used to manage action related items in applications using the Qtilities libraries. These items includes:</p>
<ul>
<li>Menus</li>
<li>Menu Bars</li>
<li>Actions</li>
<li>Shortcuts</li>
</ul>
<p>All items are referenced using a string ID through the action manager interface.</p>
<h2><a class="anchor" id="menus_and_menubars"></a>
Menus and Menu Bars</h2>
<p>For the actions which are placed in menus appropriate menu bars and menus must first be created. The following example creates a simple menu bar with some default menus:</p>
<div class="fragment"><div class="line"><span class="comment">// Create a main window:</span></div>
<div class="line">QtilitiesMainWindow exampleMainWindow;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Create the menu bar and some standard menus:</span></div>
<div class="line"><span class="keywordtype">bool</span> existed;</div>
<div class="line">ActionContainer* menu_bar = ACTION_MANAGER-&gt;createMenuBar(<span class="stringliteral">&quot;MainMenuBar&quot;</span>,existed);</div>
<div class="line">exampleMainWindow.setMenuBar(menu_bar-&gt;menuBar());</div>
<div class="line">ActionContainer* file_menu = ACTION_MANAGER-&gt;createMenu(<span class="stringliteral">&quot;File&quot;</span>,existed);</div>
<div class="line">ActionContainer* edit_menu = ACTION_MANAGER-&gt;createMenu(<span class="stringliteral">&quot;Edit&quot;</span>,existed);</div>
<div class="line">ActionContainer* view_menu = ACTION_MANAGER-&gt;createMenu(<span class="stringliteral">&quot;View&quot;</span>,existed);</div>
<div class="line">ActionContainer* about_menu = ACTION_MANAGER-&gt;createMenu(<span class="stringliteral">&quot;About&quot;</span>,existed);</div>
<div class="line">menu_bar-&gt;addMenu(file_menu);</div>
<div class="line">menu_bar-&gt;addMenu(edit_menu);</div>
<div class="line">menu_bar-&gt;addMenu(view_menu);</div>
<div class="line">menu_bar-&gt;addMenu(about_menu);</div>
</div><!-- fragment --><p>Managed menus and menu bars implements the <a class="el" href="class_qtilities_1_1_core_gui_1_1_action_container.html" title="A class which represents an action container.">Qtilities::CoreGui::ActionContainer</a> base class and access functions for these items will return an action container reference. Menus can be accessed using the <a class="el" href="class_qtilities_1_1_core_gui_1_1_action_container.html#a5f7d6143f6fe6eefeb7f11455842a0ee" title="The menu associated with this action container. If the action container is a menu, 0 is returned.">Qtilities::CoreGui::ActionContainer::menu()</a> function and menu bars through the <a class="el" href="class_qtilities_1_1_core_gui_1_1_action_container.html#a99d6d91908635cceb137133964c5e0ad" title="The menu bar associated with this action container. If the action container is a menu bar...">Qtilities::CoreGui::ActionContainer::menuBar()</a> function. For menus the menu bar function will return 0, and for menu bars the menu function will return 0.</p>
<h2><a class="anchor" id="actions_and_shortcuts"></a>
Actions and Shortcuts</h2>
<p>Actions and shortcuts are created in the normal way and then registered in the action manager. To start of, lets consider a simple action which must be enabled if a specific context (called "My Context" in this example) is active, and disabled otherwise.</p>
<h3><a class="anchor" id="actions_and_shortcuts_registering_actions"></a>
Registering Actions and Shortcuts</h3>
<div class="fragment"><div class="line"><span class="comment">// Create a standard action:</span></div>
<div class="line">QAction* actionCollapseAll = <span class="keyword">new</span> QAction(tr(<span class="stringliteral">&quot;Collapse All&quot;</span>),<span class="keyword">this</span>);</div>
<div class="line">actionCollapseAll-&gt;setShortcut(QKeySequence(<span class="stringliteral">&quot;Ctrl+&lt;&quot;</span>));</div>
<div class="line">connect(actionCollapseAll,SIGNAL(triggered()),SLOT(mySlot()));</div>
<div class="line"></div>
<div class="line"><span class="comment">// Since actions are associated with contexts, we provide the contexts in which it must be active:</span></div>
<div class="line">QList&lt;int&gt; contexts;</div>
<div class="line">contexts.push_front(CONTEXT_MANAGER-&gt;contextID(<span class="stringliteral">&quot;My Context&quot;</span>));</div>
<div class="line"></div>
<div class="line"><span class="comment">// Register the action in the action manager:</span></div>
<div class="line">ACTION_MANAGER-&gt;registerAction(<span class="stringliteral">&quot;MyActions.CollapseAll&quot;</span>,actionCollapseAll,contexts);</div>
</div><!-- fragment --><p>All actions have a Command ID and an appropriate user visible string called an "User Text ID" associated with them. In the above example the Command ID is defined by <code>MyActions.CollapseAll</code> and the User Text ID is defined by the text() function on <code>actionCollapseAll</code>, thus "Collapse All". Actions and shortcuts implement the <a class="el" href="class_qtilities_1_1_core_gui_1_1_command.html" title="A class which represents a command.">Qtilities::CoreGui::Command</a> base class and will be called commands in the rest of this article. Actions can be accessed using the <a class="el" href="class_qtilities_1_1_core_gui_1_1_command.html#a0fdb474b7ff3ee6c31eecc0370bd0260" title="The action associated with this command. If the command is a wrapper for a shortcut, 0 is returned.">Qtilities::CoreGui::Command::action()</a> function and shortcuts through the <a class="el" href="class_qtilities_1_1_core_gui_1_1_command.html#a4ec74b5fb5f960ef74ac2b6b8f5fcfcc" title="The shortcut associated with this command. If the command is a wrapper for an action, 0 is returned.">Qtilities::CoreGui::Command::shortcut()</a> function. For shortcuts the action function will return 0, and for actions the shortcut function will return 0. Shortcuts are registered in the same way as actions as shown in the above example.</p>
<p>As mentioned already, actions and shortcuts are linked to contexts, thus they react differently when different contexts are active. This allows customization in two ways:</p>
<ul>
<li>A single action can be enabled or disabled depending on the context manager's active contexts. This approach was shown in the above example.</li>
<li>A specialized proxy action can be used which triggers one of several back-end actions depending on the context manager's active contexts. In fact, all actions registered in the action manager are proxy actions. The first point above just uses a proxy action with a single back-end action.</li>
</ul>
<p>Lets look at the proxy action approach in more detail.</p>
<h3><a class="anchor" id="actions_and_shortcuts_proxy_actions"></a>
Proxy Actions</h3>
<p>The <a class="el" href="class_qtilities_1_1_core_gui_1_1_proxy_action.html" title="A class which represents a proxy action which triggers different actions for different contexts...">Qtilities::CoreGui::ProxyAction</a> class represents an proxy action which is triggered when the command's shortcut is triggered, and any number of back-end actions which each represent a different context. When context changes happen in the application, the proxy action will be updated to route shortcut triggers to the correct back-end action.</p>
<p>Proxy actions are easily created, for example:</p>
<div class="fragment"><div class="line"><span class="comment">// Create a standard action:</span></div>
<div class="line">QAction* proxyAction = <span class="keyword">new</span> QAction(tr(<span class="stringliteral">&quot;Proxy Action&quot;</span>),<span class="keyword">this</span>);</div>
<div class="line">QAction* backendAction1 = <span class="keyword">new</span> QAction(tr(<span class="stringliteral">&quot;Back-end 1&quot;</span>),<span class="keyword">this</span>);</div>
<div class="line">QAction* backendAction2 = <span class="keyword">new</span> QAction(tr(<span class="stringliteral">&quot;Back-end 2&quot;</span>),<span class="keyword">this</span>);</div>
<div class="line"></div>
<div class="line"><span class="comment">// Get the contexts for the back-end actions ready:</span></div>
<div class="line">QList&lt;int&gt; contextAction1;</div>
<div class="line">contextAction1.push_front(CONTEXT_MANAGER-&gt;contextID(<span class="stringliteral">&quot;Context 1&quot;</span>));</div>
<div class="line">QList&lt;int&gt; contextAction2;</div>
<div class="line">contextAction2.push_front(CONTEXT_MANAGER-&gt;contextID(<span class="stringliteral">&quot;Context 2&quot;</span>));</div>
<div class="line"></div>
<div class="line"><span class="comment">// Register the proxy action. Note that we do not assign a context for the proxy action:</span></div>
<div class="line">ACTION_MANAGER-&gt;registerAction(<span class="stringliteral">&quot;MyActions.MyProxyAction&quot;</span>,proxyAction);</div>
<div class="line"></div>
<div class="line"><span class="comment">// Now register the back-end actions:</span></div>
<div class="line">ACTION_MANAGER-&gt;registerAction(<span class="stringliteral">&quot;MyActions.MyProxyAction&quot;</span>,backendAction1,contextAction1);</div>
<div class="line">ACTION_MANAGER-&gt;registerAction(<span class="stringliteral">&quot;MyActions.MyProxyAction&quot;</span>,backendAction2,contextAction2);</div>
</div><!-- fragment --><p>In the above example <code>backedAction1</code> will trigger when "Context 1" is active, and <code>backendAction2</code> will trigger when "Context 2" is active. Note that no back-end actions will be triggered if neither of these contexts are active.</p>
<p>The first example presented where we regster a single action with a context (called "Collapse All" in that example), will create a proxy action and register the given action as a back-end action in it. Thus we can add more back-end actions for the "Collapse All" action by registering more actions for the same Command ID.</p>
<h3><a class="anchor" id="actions_and_shortcuts_action_place_holders"></a>
Action Placeholders</h3>
<p>In some scenarions, especially pluginable applications, it is desirable to add action place holders in your application's menus in order to have control over the layout of menus. In this way, you can add place holders (which are implemented as proxy actions without any back-end actions) and plugins can register the back-end actions when they are loaded.</p>
<p>Place holders are easily registered like this:</p>
<div class="fragment"><div class="line">ACTION_MANAGER-&gt;registerActionPlaceHolder(<span class="stringliteral">&quot;MyActions.PlaceHolder&quot;</span>,<span class="stringliteral">&quot;Example Placeholder&quot;</span>);</div>
<div class="line"></div>
<div class="line"><span class="comment">// Plugins can now add back-end actions to the above proxy action like this:</span></div>
<div class="line">QAction* backendAction1 = <span class="keyword">new</span> QAction(tr(<span class="stringliteral">&quot;Back-end 1&quot;</span>),<span class="keyword">this</span>);</div>
<div class="line">QAction* backendAction2 = <span class="keyword">new</span> QAction(tr(<span class="stringliteral">&quot;Back-end 2&quot;</span>),<span class="keyword">this</span>);</div>
<div class="line"></div>
<div class="line"><span class="comment">// Get the contexts for the back-end actions ready:</span></div>
<div class="line">QList&lt;int&gt; contextAction1;</div>
<div class="line">contextAction1.push_front(CONTEXT_MANAGER-&gt;contextID(<span class="stringliteral">&quot;Context 1&quot;</span>));</div>
<div class="line">QList&lt;int&gt; contextAction2;</div>
<div class="line">contextAction2.push_front(CONTEXT_MANAGER-&gt;contextID(<span class="stringliteral">&quot;Context 2&quot;</span>));</div>
<div class="line"></div>
<div class="line"><span class="comment">// Now register the back-end actions:</span></div>
<div class="line">ACTION_MANAGER-&gt;registerAction(<span class="stringliteral">&quot;MyActions.PlaceHolder&quot;</span>,backendAction1,contextAction1);</div>
<div class="line">ACTION_MANAGER-&gt;registerAction(<span class="stringliteral">&quot;MyActions.PlaceHolder&quot;</span>,backendAction2,contextAction2);</div>
</div><!-- fragment --><p>It is also possible to create an action place holder which is not a proxy action. This is very usefull in cases where you don't want to store a reference to an action yourself. For example if you want to add an <code>Exit</code> action to your <code>File</code> menu, you can do it directly in your <code>main()</code> function. The trick here is to specify a context for your place holder so that it will be enabled for that context:</p>
<div class="fragment"><div class="line">QList&lt;int&gt; contexts;</div>
<div class="line">contexts.push_front(CONTEXT_MANAGER-&gt;contextID(<span class="stringliteral">&quot;Context 1&quot;</span>));</div>
<div class="line"></div>
<div class="line">command = ACTION_MANAGER-&gt;registerActionPlaceHolder(<span class="stringliteral">&quot;MyActions.Exit&quot;</span>,<span class="stringliteral">&quot;Exit&quot;</span>,QKeySequence(QKeySequence::Close),contexts);</div>
<div class="line">QObject::connect(command-&gt;action(),SIGNAL(triggered()),QCoreApplication::instance(),SLOT(quit()));</div>
</div><!-- fragment --><p>Behind the scenes this will create a default back-end action for the specified context.</p>
<p>For more details on registering actions, see the <a class="el" href="class_qtilities_1_1_core_gui_1_1_interfaces_1_1_i_action_manager.html" title="Interface used to communicate with the action manager.">Qtilities::CoreGui::Interfaces::IActionManager</a> documentation.</p>
<h3><a class="anchor" id="actions_and_shortcuts_defined_actions"></a>
Defined Actions</h3>
<p>The <a class="el" href="namespace_qtilities_1_1_core_gui_1_1_actions.html" title="Namespace containing available actions which forms part of the CoreGui Module.">Qtilities::CoreGui::Actions</a> namespace contains a set of ready to use action and action container Command IDs. Using the defined set of Command IDs makes it is easy to place new actions before or after them when adding actions to your menus. For more information see <a class="el" href="class_qtilities_1_1_core_gui_1_1_action_container.html#a8645ef1121fc0b1eea534c1756837b90" title="Adds an action to the action container. If the action container is a menu bar, this call does nothing...">Qtilities::CoreGui::ActionContainer::addAction()</a> and <a class="el" href="class_qtilities_1_1_core_gui_1_1_action_container.html#a2559f63f13c20bbf4d6b8214e220c097" title="Adds a seperator to the action container. If the action container is a menu bar, this call does nothi...">Qtilities::CoreGui::ActionContainer::addSeperator()</a>.</p>
<h3><a class="anchor" id="actions_and_shortcuts_configurations"></a>
Shortcut Configurations</h3>
<p>Qtilities has the ability to remember shortcut configurations between different application sessions. The <a class="el" href="class_qtilities_1_1_core_gui_1_1_interfaces_1_1_i_action_manager.html#a43c12c91f3355290ff1ad1e4e656a11e" title="Imports a previously exported shortcut configuration.">Qtilities::CoreGui::Interfaces::IActionManager::loadShortcutMapping()</a> and <a class="el" href="class_qtilities_1_1_core_gui_1_1_interfaces_1_1_i_action_manager.html#a3de80602d256a54cfac7a46b10f558b6" title="Exports the current shortcut configuraiton.">Qtilities::CoreGui::Interfaces::IActionManager::saveShortcutMapping()</a> functions provide this functionality. See the Qtilities examples where these functions are used to save shortcuts configurations between sessions.</p>
<p>The <a class="el" href="class_qtilities_1_1_core_gui_1_1_command_editor.html" title="A widget which allows the user to edit command shortcuts for actions registered in the action manager...">Qtilities::CoreGui::CommandEditor</a> class provides a shortcuts page which can be added to your application's configuration widget like this:</p>
<div class="fragment"><div class="line"><span class="comment">// Register extension system config page.</span></div>
<div class="line">OBJECT_MANAGER-&gt;registerObject(ACTION_MANAGER-&gt;commandEditor());</div>
</div><!-- fragment --><p>This widgets lists all the registered commands in the action manager where the "Command Name" column refers to the commands' string id and the "Label" column refers to the user text id of actions.</p>
<p>The figure below shows an example of the command editor, taken from the <code>ObjectManagementExample</code>.</p>
<div class="image">
<img src="command_editor.jpg" alt="command_editor.jpg"/>
<div class="caption">
Command Editor</div></div>
<p> The command editor shows actions in a categorized tree view. A category is assigned to a command like this:</p>
<div class="fragment"><div class="line">Command* command = ACTION_MANAGER-&gt;registerAction(<span class="stringliteral">&quot;MyActions.CollapseAll&quot;</span>,actionCollapseAll,contexts);</div>
<div class="line">command-&gt;setCategory(QtilitiesCategory(<span class="stringliteral">&quot;My Action Category&quot;</span>));</div>
</div><!-- fragment --><p>The command editor also allows users to edit shortcuts for the displayed commands and highlights ambigious shortcuts (used more than once) in red.</p>
<h3><a class="anchor" id="actions_and_shortcuts_debugging"></a>
Debugging Actions</h3>
<p>The Qtilities Debug Plugin provides an overview of the action manager's state at any time and allows you view detailed information about registered commands.</p>
<div class="image">
<img src="debugging_state_actions.jpg" alt="debugging_state_actions.jpg"/>
<div class="caption">
Action Manager Overview</div></div>
 <h1><a class="anchor" id="clipboard_manager"></a>
The Clipboard Manager</h1>
<p>The goal of the clipboard manager is to register back-ends (associated with the standard context) for the Qtilities::CoreGui::Actions::qti_action_EDIT_COPY, Qtilities::CoreGui::Actions::qti_action_EDIT_CUT and Qtilities::CoreGui::Actions::qti_action_EDIT_PASTE action placeholders. This is done when the CLIPBOARD_MANAGER-&gt;initialize() function is called, allowing control over disabling and enabling these three actions in Qtilities applications. For example, the paste action should only be enabled if something exists in the the clipboard. Also, when you perform a paste operation, the paste action must become disabled again. The clipboard manager provides this functionality. See the <a class="el" href="class_qtilities_1_1_core_gui_1_1_interfaces_1_1_i_clipboard.html" title="Interface used to communicate with the clipboard manager.">Qtilities::CoreGui::Interfaces::IClipboard</a> class description for more details. </p>
</div></div><!-- contents -->
<br><table style="table-layout:auto;	margin: auto; 	border-width:0px 0px 0px 0px; 	border-color:#7F7F7F; 	width:99%;	border-style:solid" CELLPADDING=5 RULES=ROWS FRAME=HSIDES><tr><td style="align: left;width:45%"><a href="http://www.qtilities.org" title="Qtilities Website">Qtilities</a> : <a href="index.html" title="Go back to index">Reference Documentation</a></td><td style="align: center;width:10%"><a href="#top" title="Back to top">Back to top</a> </td><td style="text-align: right;width:45%">Copyright &copy; 2009-2013, Floware Computing (Pty) Ltd</tr></table><br><script type="text/javascript">  var _gaq = _gaq || [];  _gaq.push(['_setAccount', 'UA-17785825-1']);  _gaq.push(['_trackPageview']);  (function() {    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);  })();</script>
