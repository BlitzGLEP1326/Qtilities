<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Qtilities: Debugging %Qtilities Applications</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<!-- Generated by Doxygen 1.8.1.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Debugging Qtilities Applications </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><table  cellpadding="0" style="width:100%;
  table-layout:fixed;
	margin:0px 0px 0px 0px;
	border-width:0px 0px 0px 0px; 
	border-color:#7F7F7F;">
<tr>
<td style="width:80%; padding:0px 5px 0px 0px; vertical-align: text-top; text-align: left"><h1 style="margin:0px; padding:0px">Overview</h1>
<p></p>
<p>Qtilities provides a debugging plugin which can help you to debug your applications. The debug plugin provides many different views and ideas to help you debug your applications at runtime. The idea is not to replace your standard C++ debugger, but rather to give you runtime information about your application's state as well as specific information about any QObject in your application.</p>
<p>This page will give an overview of the debugging plugin and highlight some of its more usefull features.</p>
<p>Table of contents:</p>
<ul>
<li><a class="el" href="page_debugging.html#debugging_introduction">Introduction</a><ul>
<li><a class="el" href="page_debugging.html#debugging_manual">Showing the debug widget manually</a></li>
<li><a class="el" href="page_debugging.html#debugging_automatic">Showing the debug widget using the Debug Plugin</a></li>
</ul>
</li>
<li><a class="el" href="page_debugging.html#debugging_global_object_pool_view">The Global Object Pool Tab</a><ul>
<li><a class="el" href="page_debugging.html#debugging_object_static_properties">Static Properties</a></li>
<li><a class="el" href="page_debugging.html#debugging_object_dynamic_properties">Dynamic Properties</a></li>
<li><a class="el" href="page_debugging.html#debugging_object_scope">Object Scope</a></li>
<li><a class="el" href="page_debugging.html#debugging_signals_and_slots">Signal and Slot Analysis</a></li>
</ul>
</li>
<li><a class="el" href="page_debugging.html#debugging_global_application_state_view">The Application State Tab</a><ul>
<li><a class="el" href="page_debugging.html#debugging_state_modes">Application Modes</a></li>
<li><a class="el" href="page_debugging.html#debugging_state_contexts">Context Management</a></li>
<li><a class="el" href="page_debugging.html#debugging_state_actions">Action Management</a></li>
<li><a class="el" href="page_debugging.html#debugging_state_factories">Factories Overview</a></li>
<li><a class="el" href="page_debugging.html#debugging_state_projects">Project Management</a></li>
</ul>
</li>
<li><a class="el" href="page_debugging.html#debugging_plugins_view">The Plugin Management Tab</a><ul>
<li><a class="el" href="page_debugging.html#debugging_plugins_state">Extension System's Current State</a></li>
<li><a class="el" href="page_debugging.html#debugging_plugins_custom">Creating Custom Plugin Configuration Sets</a></li>
</ul>
</li>
<li><a class="el" href="page_debugging.html#debugging_inspecting_qobjects">Inspecting QObjects At Runtime</a></li>
</ul>
<p></p>
<p class="endtd"></p>
</td><td style="width:20%; vertical-align: top; margin:0px 0px 0px 0px;"><table  style="table-layout:auto;
	margin:0px 0px 0px 0px; 
  width: 100%;
	border-width:0px 0px 0px 0px; 
	border-color:#7F7F7F;
  background-color: #d1d3d4;">
<tr>
<td style="background-color: #5a5c5e; text-align: center"><h2 style="color:#FFFFFF">First Steps</h2>
<p class="endtd"></p>
</td></tr>
<tr>
<td><ul>
<li><a href="page_getting_started.html">Getting Started</a><br/>
</li>
<li><a href="page_the_basics.html">The Basics</a><br/>
</li>
<li><a href="page_examples_and_plugins.html">Examples and Plugins</a><br/>
   </li>
</ul>
</td></tr>
<tr>
<td style="background-color: #5a5c5e; text-align: center"><h2 style="color:#FFFFFF">Overviews</h2>
<p class="endtd"></p>
</td></tr>
<tr>
<td><ul>
<li><a href="page_action_management.html">Action Management</a><br/>
</li>
<li><a href="page_tree_structures.html">Building Trees</a><br/>
</li>
<li><a href="page_debugging.html">Debugging Applications</a><br/>
</li>
<li><a href="page_extension_system.html">Extension System</a><br/>
</li>
<li><a href="page_factories.html">Factories</a><br/>
</li>
<li><a href="page_logging.html">Logging</a><br/>
</li>
<li><a href="page_modules_overview.html">Modules</a><br/>
</li>
<li><a href="page_object_management.html">Object Management</a><br/>
</li>
<li><a href="page_observers.html">Observers</a><br/>
</li>
<li><a href="page_observer_widgets.html">Observer Widgets</a><br/>
</li>
<li><a href="page_project_management.html">Project Management</a><br/>
</li>
<li><a href="page_tasking.html">Tasking</a><br/>
</li>
<li><a href="page_widget_set.html">Widget Set</a><br/>
   </li>
</ul>
</td></tr>
</table>
<p class="endtd"></p>
</td></tr>
</table>
<h1><a class="anchor" id="debugging_introduction"></a>
Introduction</h1>
<p>The debugging plugin is part of the <code>Testing</code> module and can be added manually to your application, or if your application uses the Qtilities extension system it can be added automatically as an application mode when you load <code>DebugPlugin</code>. You can find the documentation for the plugin here: <a class="el" href="class_qtilities_1_1_plugins_1_1_debug_1_1_debug_plugin.html" title="A debug plugin which helps to debug Qtilities applications.">Qtilities::Plugins::Debug::DebugPlugin</a>.</p>
<h2><a class="anchor" id="debugging_manual"></a>
Showing the debug widget manually</h2>
<p>To access the debug widget manually, do the following:</p>
<div class="fragment"><div class="line"><span class="comment">// In your .pro file, add:</span></div>
<div class="line">QTILITIES += testing</div>
<div class="line"></div>
<div class="line"><span class="comment">// In your .cpp file, add:</span></div>
<div class="line"><span class="preprocessor">#include &lt;QtilitiesTesting&gt;</span></div>
<div class="line"><span class="keyword">using namespace </span>QtilitiesTesting;</div>
<div class="line"></div>
<div class="line"><span class="comment">// And then show the DebugWidget like this:</span></div>
<div class="line"><a class="code" href="class_qtilities_1_1_testing_1_1_debug_widget.html" title="A widget providing debug information about a Qtilities application.">DebugWidget</a>* debug_widget = <span class="keyword">new</span> <a class="code" href="class_qtilities_1_1_testing_1_1_debug_widget.html" title="A widget providing debug information about a Qtilities application.">DebugWidget</a>;</div>
<div class="line">debug_widget-&gt;<a class="code" href="class_qtilities_1_1_testing_1_1_debug_widget.html#abee9bf912eb0c8bad5af0e647c0d95f6" title="The main window&#39;s central widget for the mode.">modeWidget</a>()-&gt;show();</div>
</div><!-- fragment --><h2><a class="anchor" id="debugging_automatic"></a>
Showing the debug widget using the Debug Plugin</h2>
<p>Another way to use the debug widget is to make your application extendable and then to add the debug plugin library to your application's plugin path. It will automatically be loaded as a mode in your application, thus you also need to use the <a class="el" href="class_qtilities_1_1_core_gui_1_1_qtilities_main_window.html" title="A class which can be used as a frontend of applications using the Qtilities libraries.">Qtilities::CoreGui::QtilitiesMainWindow</a> and set it up to use modes:</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])</div>
<div class="line">{</div>
<div class="line">    QtilitiesApplication a(argc, argv);</div>
<div class="line">    QtilitiesApplication::setOrganizationName(<span class="stringliteral">&quot;Floware Computing (Pty) Ltd&quot;</span>);</div>
<div class="line">    QtilitiesApplication::setApplicationName(<span class="stringliteral">&quot;Main Window Example&quot;</span>);</div>
<div class="line">    QtilitiesApplication::setApplicationVersion(QtilitiesApplication::qtilitiesVersionString());</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Create a QtilitiesMainWindow to show our different modes:</span></div>
<div class="line">    QtilitiesMainWindow exampleMainWindow(QtilitiesMainWindow::ModesTop);</div>
<div class="line">    QtilitiesApplication::setMainWindow(&amp;exampleMainWindow);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Lots of application code...</span></div>
<div class="line">}</div>
</div><!-- fragment --><p>Now you are ready to go. The image below shows the added mode in your application:</p>
<div class="image">
<img src="debugging_added_mode.jpg" alt="debugging_added_mode.jpg"/>
<div class="caption">
Debug Mode Added To Your Application</div></div>
<p> Both the <code>MainWindowExample</code> and the <code>ObjectManagement</code> examples in the <code>QtilitiesExamples</code> project make use of the debug plugin and can be used as a reference if you have trouble getting it to work.</p>
<h1><a class="anchor" id="debugging_global_object_pool_view"></a>
The Global Object Pool Tab</h1>
<p>Before going on, lets start with an image of how the debug mode looks. The image below shows the mode with the "Global Object Pool" tab selected in the <code>MainWindowExample</code> example.</p>
<div class="image">
<img src="debugging_object_pool_tab.jpg" alt="debugging_object_pool_tab.jpg"/>
<div class="caption">
Global Object Pool Tab</div></div>
<p> The "Global Object Pool" tab presents you with a list of all objects in your global object pool on the left and information about the selected object on the right. Qtilities automatically adds several objects to the global object pool as you can see in the above image. In code you can add any QObject to the pool like this:</p>
<div class="fragment"><div class="line">QObject* my_object = <span class="keyword">new</span> QObject;</div>
<div class="line">OBJECT_MANAGER-&gt;registerObject(my_object,QtilitiesCategory(<span class="stringliteral">&quot;My Category&quot;</span>);</div>
<div class="line"><span class="comment">// Note that the category parameter is optional but it makes debugging easier.</span></div>
</div><!-- fragment --><p>Once you object is in the pool you can select it and get the following information about it:</p>
<h2><a class="anchor" id="debugging_object_static_properties"></a>
Static Properties</h2>
<p>An overview of the static properties on your object. The static properties are those added to your object using the <code>Q_PROPERTY</code> macro in your class definition. You can use the property editor widget to edit these properties and it is nicely displayed for each class that your object inherits.</p>
<div class="image">
<img src="debugging_static_properties.jpg" alt="debugging_static_properties.jpg"/>
<div class="caption">
Static Properties</div></div>
<p> Note that Qtilities must be build with the <code>QTILITIES_PROPERTY_BROWSER</code> define for the properties to be show.</p>
<h2><a class="anchor" id="debugging_object_dynamic_properties"></a>
Dynamic Properties</h2>
<p>An overview of the dynamic properties on your object. The dynamic properties are those added to your object using the QObject::setProperty() function. Since Qtilities uses dynamic properties extensively on objects it manage the objects in the example application already have some dynamic properties as shown below.</p>
<div class="image">
<img src="debugging_dynamic_properties.jpg" alt="debugging_dynamic_properties.jpg"/>
<div class="caption">
Dynamic Properties</div></div>
<p> It is also possible to add, edit and remove dynamic properties on your objects.</p>
<p>Note that Qtilities must be build with the <code>QTILITIES_PROPERTY_BROWSER</code> define for the properties to be show.</p>
<h2><a class="anchor" id="debugging_object_scope"></a>
Object Scope</h2>
<p>The "Object Scope" view shows the scopes in which your object is visible. The Subject-Observer pattern implementation in Qtilities allows objects to be attached to (observed by) multiple contexts. This view shows the contexts in which your object is observed.</p>
<div class="image">
<img src="debugging_object_scope.jpg" alt="debugging_object_scope.jpg"/>
<div class="caption">
Object Scope</div></div>
<p> If this does not really make sense, perhapts see the <a class="el" href="page_observers.html">Observers</a> article for an introduction on the topic.</p>
<h2><a class="anchor" id="debugging_signals_and_slots"></a>
Signal and Slot Analysis</h2>
<p>Perhaps one of the most usefull features on this page is the ability to analyze signals and slots on your object. This is done through integration with <a href="http://sourceforge.net/projects/conanforqt/">Conan for Qt</a>. Since there is a detailed description on the project page of the Conan libary we will not go into all of its features here.</p>
<p>In a nutshell, it allows you to analyze signal and slots connections, signal emissions and it even lets you search for duplicate connections in your application.</p>
<p>Below is an example where we can see the analysis for the Plugins configuration page in the example.</p>
<div class="image">
<img src="debugging_conan.jpg" alt="debugging_conan.jpg"/>
<div class="caption">
Analyzing The Plugins Configuration Page Object</div></div>
<p> We can see that the object's <code>destroyed(QObject*)</code> signal is connected to a few slots where views will update themselves if the object is removed, and also to the two observers to which it was attached.</p>
<p>It is also possible to spy specific signals which will log all emissions of that signal.</p>
<div class="image">
<img src="debugging_conan_spies.jpg" alt="debugging_conan_spies.jpg"/>
<div class="caption">
Adding Signal Spies</div></div>
<p> When the <code>destroyed(QObject*)</code> signal is emitted a notification will be printed in your application's output:</p>
<div class="fragment"><div class="line"><span class="stringliteral">&quot;Qtilities::ExtensionSystem::ExtensionSystemConfig :: Plugins , destroyed(QObject*) ,  {QObject*}&quot;</span></div>
</div><!-- fragment --><p>Note that Qtilities must be build with the <code>QTILITIES_CONAN</code> define for the analysis to work. If you built it with this define, the buttons will just be grayed out. Also note that Conan supports very specific versions of Qt, thus see the project's page to make sure your version is supported.</p>
<h1><a class="anchor" id="debugging_global_application_state_view"></a>
The Application State Tab</h1>
<p>The "Application State" tab gives information about the state of your application.</p>
<h2><a class="anchor" id="debugging_state_modes"></a>
Application Modes</h2>
<p>The application modes view gives an overview of all the modes added to your application.</p>
<div class="image">
<img src="debugging_state_modes.jpg" alt="debugging_state_modes.jpg"/>
<div class="caption">
Application Modes Overview</div></div>
 <h2><a class="anchor" id="debugging_state_contexts"></a>
Context Management</h2>
<p>The context management view gives an overview of all the contexts registered in your application. It is possible to modify the active contexts in your application through this view which can be extremely usefull when debugging your own context specific items. The view is a dockable widget which can be undocked to allow you to undock it and observe other parts of the application when you manually change the active contexts.</p>
<div class="image">
<img src="debugging_state_contexts.jpg" alt="debugging_state_contexts.jpg"/>
<div class="caption">
Context Management</div></div>
 <h2><a class="anchor" id="debugging_state_actions"></a>
Action Management</h2>
<p>The action management view gives an overview of all the actions and shortcuts registered in the Action Manager. You can select an action or shortcut and an overview of the action will be given. If the action is a <a class="el" href="class_qtilities_1_1_core_gui_1_1_proxy_action.html" title="A class which represents a proxy action which triggers different actions for different contexts...">Qtilities::CoreGui::ProxyAction</a> the overview will provide details of the backend actions registered for the frontend (proxy) action as shown below.</p>
<p>It is also possible to analyze and verify signal and slot connections between the frontend action and the active backend actions in this view. Again, this uses the Conan integration described in <a class="el" href="page_debugging.html#debugging_signals_and_slots">Signal and Slot Analysis</a>.</p>
<div class="image">
<img src="debugging_state_actions.jpg" alt="debugging_state_actions.jpg"/>
<div class="caption">
Action Management</div></div>
 <h2><a class="anchor" id="debugging_state_factories"></a>
Factories Overview</h2>
<p>The factories view gives an overview of all the factories registered in the Object Manager and the available tags registered in each factory.</p>
<div class="image">
<img src="debugging_state_factories.jpg" alt="debugging_state_factories.jpg"/>
<div class="caption">
Factories Overview</div></div>
 <h2><a class="anchor" id="debugging_state_projects"></a>
Project Management</h2>
<p>If you use projects in your application, the project management view will provide you with details about the Project Manager's current state. It is possible to open the current project or it's path and to get an overview of project items registered in both the active project and the Project Manager. Lastly, a list of recent projects is also provided.</p>
<div class="image">
<img src="debugging_state_projects.jpg" alt="debugging_state_projects.jpg"/>
<div class="caption">
Project Management</div></div>
 <h1><a class="anchor" id="debugging_plugins_view"></a>
The Plugin Management Tab</h1>
<p>The "Plugin Management" tab provides plugin management and overview views.</p>
<h2><a class="anchor" id="debugging_plugins_state"></a>
Extension System's Current State</h2>
<p>The currents state view shows the current state of the extension system in terms of the currently loaded plugins and the active plugin configuration set.</p>
<div class="image">
<img src="debugging_plugins_state.jpg" alt="debugging_plugins_state.jpg"/>
<div class="caption">
Extension System's Current State</div></div>
 <h2><a class="anchor" id="debugging_plugins_custom"></a>
Creating Custom Plugin Configuration Sets</h2>
<p>A very usefull feature of the plugin management tab is the ability to create custom plugin configuration sets easily. It provides an easy to use interface for dragging and dropping plugins to change their classification and it does integrity checks in the background. For example, you cannot make a core plugin part of your In-Active Plugins list. It will also automatically create a filter expression for existing plugin's file names when you make them part of the Plugin Filter Expressions list. You can add and remove new plugins and an overview of the different plugin classifications are given.</p>
<p>If you use this view to create your custom configuration sets, you don't have to worry about the file format used by the extension system and you can edit and save old sets easily.</p>
<div class="image">
<img src="debugging_plugins_custom.jpg" alt="debugging_plugins_custom.jpg"/>
<div class="caption">
Creating Custom Plugin Configuration Sets</div></div>
 <h1><a class="anchor" id="debugging_inspecting_qobjects"></a>
Inspecting QObjects At Runtime</h1>
<p>To make debugging easier all <a class="el" href="class_qtilities_1_1_core_gui_1_1_observer_widget.html" title="The ObserverWidget class provides a ready-to-use widget to display information about a specific obser...">Qtilities::CoreGui::ObserverWidget</a> widgets will automatically add a new "Debug Selected Object" action to their action toolbars (when build in debug mode) as shown below:</p>
<div class="image">
<img src="debugging_observer_widget_action.jpg" alt="debugging_observer_widget_action.jpg"/>
<div class="caption">
Debug Selected Object Action</div></div>
<p> This action (blue bug) will add the selected object to your global object pool and then switch to the debugging plugin (if using the approach described in <a class="el" href="page_debugging.html#debugging_automatic">Showing the debug widget using the Debug Plugin</a>, otherwise the object will just be added to the global object pool). </p>
</div></div><!-- contents -->
<br><table style="table-layout:auto;	margin: auto; 	border-width:0px 0px 0px 0px; 	border-color:#7F7F7F; 	width:99%;	border-style:solid" CELLPADDING=5 RULES=ROWS FRAME=HSIDES><tr><td style="align: left;width:45%"><a href="http://github.com/JPNaude/Qtilities" title="Qtilities Repository">Qtilities</a> : <a href="index.html" title="Go back to index">Reference Documentation</a></td><td style="align: center;width:10%"><a href="#top" title="Back to top">Back to top</a> </td><td style="text-align: right;width:45%">Copyright &copy; 2009-2013, Jaco Naude</tr></table><br><script type="text/javascript">  var _gaq = _gaq || [];  _gaq.push(['_setAccount', 'UA-17785825-1']);  _gaq.push(['_trackPageview']);  (function() {    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);  })();</script>
