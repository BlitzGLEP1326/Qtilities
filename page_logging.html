<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Qtilities: Logging</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<!-- Generated by Doxygen 1.8.1.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Logging </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><table  cellpadding="0" style="width:100%;
  table-layout:fixed;
	margin:0px 0px 0px 0px;
	border-width:0px 0px 0px 0px; 
	border-color:#7F7F7F;">
<tr>
<td style="width:80%; padding:0px 5px 0px 0px; vertical-align: text-top; text-align: left"><h1 style="margin:0px; padding:0px">Overview</h1>
<p></p>
<p>Logging is an essential part of any application and can make it easier to figure out what is going on during application development and debugging. Qtilities provides a ready to use, thread safe and powerful logger which can easily be embedded into any Qt application. Logging is done through short and easy to use macros, or for more advanced logging requirements more sophisticated logging functions are available.</p>
<p>Logger engines provide back-ends for the logger and messages are formatted on a per engine basis. New logger engines or formatting engines can easily be created and added to the logger. The logger is able to store its configuration between sessions and a ready to use logging configuration widget is available in GUI applications.</p>
<p>The logger is only dependent on QtCore, thus it can be used in console or GUI applications. The Qtilities CoreGui library provides a widget logger engine which can be used with the logger in GUI applications. This article will show how to use the logger in a Qt application and provide an overview of the available features.</p>
<p>Table of contents:</p>
<ul>
<li><a class="el" href="page_logging.html#logger_first_steps">First steps: Setting up the logger and logging example messages</a></li>
<li><a class="el" href="page_logging.html#logging_in_GUI_apps">Logging in GUI applications</a><ul>
<li><a class="el" href="page_logging.html#logging_configuration_widget">Logging configuration widget</a></li>
<li><a class="el" href="page_logging.html#logging_plugin">The example logging plugin</a></li>
</ul>
</li>
<li><a class="el" href="page_logging.html#advanced_logging">Advanced logging possibilities</a><ul>
<li><a class="el" href="page_logging.html#priority_logging">Priority Logging</a></li>
<li><a class="el" href="page_logging.html#engine_specific_logging">Engine Specific Logging</a></li>
<li><a class="el" href="page_logging.html#engine_message_contexts">Message Contexts</a></li>
</ul>
</li>
<li><a class="el" href="page_logging.html#extending_the_logger">Extending the logger: Create custom logger and formatting engines</a></li>
</ul>
<p></p>
<p class="endtd"></p>
</td><td style="width:20%; vertical-align: top; margin:0px 0px 0px 0px;"><table  style="table-layout:auto;
	margin:0px 0px 0px 0px; 
  width: 100%;
	border-width:0px 0px 0px 0px; 
	border-color:#7F7F7F;
  background-color: #d1d3d4;">
<tr>
<td style="background-color: #5a5c5e; text-align: center"><h2 style="color:#FFFFFF">First Steps</h2>
<p class="endtd"></p>
</td></tr>
<tr>
<td><ul>
<li><a href="page_getting_started.html">Getting Started</a><br/>
</li>
<li><a href="page_the_basics.html">The Basics</a><br/>
</li>
<li><a href="page_examples_and_plugins.html">Examples and Plugins</a><br/>
   </li>
</ul>
</td></tr>
<tr>
<td style="background-color: #5a5c5e; text-align: center"><h2 style="color:#FFFFFF">Overviews</h2>
<p class="endtd"></p>
</td></tr>
<tr>
<td><ul>
<li><a href="page_action_management.html">Action Management</a><br/>
</li>
<li><a href="page_tree_structures.html">Building Trees</a><br/>
</li>
<li><a href="page_debugging.html">Debugging Applications</a><br/>
</li>
<li><a href="page_extension_system.html">Extension System</a><br/>
</li>
<li><a href="page_factories.html">Factories</a><br/>
</li>
<li><a href="page_logging.html">Logging</a><br/>
</li>
<li><a href="page_modules_overview.html">Modules</a><br/>
</li>
<li><a href="page_object_management.html">Object Management</a><br/>
</li>
<li><a href="page_observers.html">Observers</a><br/>
</li>
<li><a href="page_observer_widgets.html">Observer Widgets</a><br/>
</li>
<li><a href="page_project_management.html">Project Management</a><br/>
</li>
<li><a href="page_tasking.html">Tasking</a><br/>
</li>
<li><a href="page_widget_set.html">Widget Set</a><br/>
   </li>
</ul>
</td></tr>
</table>
<p class="endtd"></p>
</td></tr>
</table>
<h1><a class="anchor" id="logger_first_steps"></a>
First steps: Setting up the logger and logging example messages</h1>
<p>The <a class="el" href="class_qtilities_1_1_logging_1_1_logger.html" title="The Logger class provides thread safe logging functionality to any Qt application.">Qtilities::Logging::Logger</a> provides macros to initialize it on application startup and to finalize in when the application exists. During initialization the logger will create standard logger engines and formatting engines and restore its settings from the previous session. The finalization does the opposite: it saves the current settings and deletes all the logger engines currently in the application.</p>
<p>Basic logging can be done through a set of macros which makes it very easy to log different types of messages. Lets look at a simple console application:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;QtilitiesLogging&gt;</span></div>
<div class="line"><span class="keyword">using namespace </span>QtilitiesLogging;</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])</div>
<div class="line">{</div>
<div class="line">    QtilitiesCoreApplication a(argc, argv);</div>
<div class="line">    QtilitiesCoreApplication::setApplicationName(<span class="stringliteral">&quot;Console Logging Example&quot;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Before we initialize the logger, we want to use the same path in the logger and in</span></div>
<div class="line">    <span class="comment">// QtilitiesCoreApplication. Since the logging lib does not depend on the core lib, we need to</span></div>
<div class="line">    <span class="comment">// call QtilitiesCoreApplication::applicationSessionPath() which will set the session</span></div>
<div class="line">    <span class="comment">// path in the logger to match the path used in QtilitiesCoreApplication.</span></div>
<div class="line">    <span class="comment">// If it is still the default from QtilitieCoreApplicationPrivate, we set it to use AppData:</span></div>
<div class="line">    Log-&gt;setLoggerSessionConfigPath(QtilitiesCoreApplication::applicationSessionPath());</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Initialize the logger:</span></div>
<div class="line">    LOG_INITIALIZE();</div>
<div class="line">    <span class="comment">// We want to capture all messages &lt;= Debug level:</span></div>
<div class="line">    Log-&gt;setGlobalLogLevel(Logger::Debug);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Create a file engine to verify the results.</span></div>
<div class="line">    <span class="comment">// The file extensions are used to determine the formatting engine used for each file:</span></div>
<div class="line">    QString xml_example = QtilitiesCoreApplication::applicationSessionPath() + <span class="stringliteral">&quot;/XML_Log.xml&quot;</span>;</div>
<div class="line">    Log-&gt;newFileEngine(<span class="stringliteral">&quot;XML File Example&quot;</span>,xml_example);</div>
<div class="line">    QString plain_example = QtilitiesCoreApplication::applicationSessionPath() + <span class="stringliteral">&quot;/Plain_Log.log&quot;</span>;</div>
<div class="line">    Log-&gt;newFileEngine(<span class="stringliteral">&quot;Plain File Example&quot;</span>,plain_example);</div>
<div class="line">    QString html_example = QtilitiesCoreApplication::applicationSessionPath() + <span class="stringliteral">&quot;/HTML_Log.html&quot;</span>;</div>
<div class="line">    Log-&gt;newFileEngine(<span class="stringliteral">&quot;HTML File Example&quot;</span>,html_example);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Enable the Qt Message logger engine:</span></div>
<div class="line">    Log-&gt;toggleQtMsgEngine(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Log messages to all engines:</span></div>
<div class="line">    LOG_INFO(<span class="stringliteral">&quot;Information Message&quot;</span>);</div>
<div class="line">    LOG_WARNING(<span class="stringliteral">&quot;Warning Message&quot;</span>);</div>
<div class="line">    LOG_ERROR(<span class="stringliteral">&quot;Error Message&quot;</span>);</div>
<div class="line">    LOG_FATAL(<span class="stringliteral">&quot;Fatal Message&quot;</span>);</div>
<div class="line">    LOG_DEBUG(<span class="stringliteral">&quot;Debug Message&quot;</span>);</div>
<div class="line">    LOG_TRACE(<span class="stringliteral">&quot;Trace Message&quot;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Enable the console logger engine:</span></div>
<div class="line">    Log-&gt;toggleConsoleEngine(<span class="keyword">true</span>);</div>
<div class="line">    <span class="comment">// Disable the Qt Message logger engine:</span></div>
<div class="line">    Log-&gt;toggleQtMsgEngine(<span class="keyword">false</span>);</div>
<div class="line">    <span class="comment">// Disable the console logger engine:</span></div>
<div class="line">    Log-&gt;toggleConsoleEngine(<span class="keyword">false</span>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Capture messages from the Qt Message System:</span></div>
<div class="line">    Log-&gt;setIsQtMessageHandler(<span class="keyword">true</span>);</div>
<div class="line">    qDebug() &lt;&lt; <span class="stringliteral">&quot;Message from the Qt Message System&quot;</span>;</div>
<div class="line">    Log-&gt;setIsQtMessageHandler(<span class="keyword">false</span>);</div>
<div class="line">    qDebug() &lt;&lt; <span class="stringliteral">&quot;Message from the Qt Message System which will not be caught.&quot;</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">int</span> result = a.exec();</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Finalize the logger:</span></div>
<div class="line">    LOG_FINALIZE();</div>
<div class="line">    <span class="keywordflow">return</span> result;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="logging_in_GUI_apps"></a>
Logging in GUI applications</h1>
<p>The above example showed basic usage of the logger in a console application, however in many applications the QtGui module is used and an user interface is provided to the user. In such applications it is desirable to have one or more ready to use logging widgets to display log messages to the user.</p>
<h2><a class="anchor" id="logging_ready_to_use_widget"></a>
Ready to use logging widgets</h2>
<p>The Qtilities CoreGui library provides ready to use logging widgets which can be accessed through the <a class="el" href="class_qtilities_1_1_core_gui_1_1_logger_gui.html" title="A class providing static member functions to acccess and create GUIs related to the Qtilities Logging...">Qtilities::CoreGui::LoggerGui</a> singleton's static methods. For example we can get log dock widgets as follows:</p>
<div class="fragment"><div class="line">QMainWindow* mainWindow = <span class="keyword">new</span> QMainWindow;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Get a widget that shows all log messages:</span></div>
<div class="line">QString log_widget_name = tr(<span class="stringliteral">&quot;Session Log&quot;</span>);</div>
<div class="line">QDockWidget* session_log_dock = LoggerGui::createLogDockWidget(&amp;log_widget_name);</div>
<div class="line">mainWindow-&gt;addDockWidget(Qt::BottomDockWidgetArea,session_log_dock);</div>
<div class="line"></div>
<div class="line"><span class="comment">// When creating new logger widgets through the LoggerGui class the name assigned</span></div>
<div class="line"><span class="comment">// to the log can change if a engine with the same name already exists. Therefore you pass</span></div>
<div class="line"><span class="comment">// the name to the logger as a pointer which will be updated with the new name if it</span></div>
<div class="line"><span class="comment">// was changed.</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// We can now access the AbstractLoggerEngine instance like this:</span></div>
<div class="line">AbstractLoggerEngine* log_engine = Log-&gt;loggerEngineReference(log_widget_name);</div>
<div class="line">Q_ASSERT(log_engine);</div>
<div class="line"><span class="comment">// As an example, lets change the message context to log only messages logged to this engine:</span></div>
<div class="line">log_engine-&gt;setMessageContexts(Logger::EngineSpecificMessages);</div>
<div class="line"></div>
<div class="line"><span class="comment">// Get a widget that shows only warning messages:</span></div>
<div class="line">log_widget_name = tr(<span class="stringliteral">&quot;Warning Log&quot;</span>);</div>
<div class="line">QDockWidget* warning_dock = LoggerGui::createLogDockWidget(&amp;log_widget_name,log_widget_name,<span class="keyword">true</span>,Logger::Warning);</div>
<div class="line">mainWindow-&gt;addDockWidget(Qt::TopDockWidgetArea,warning_dock);</div>
</div><!-- fragment --><p>The obtained dock widget will look similar to the image shown below:</p>
<div class="image">
<img src="log_dock_widget.jpg" alt="log_dock_widget.jpg"/>
<div class="caption">
Ready To Use Log Dock Widget</div></div>
 <h2><a class="anchor" id="logging_configuration_widget"></a>
Logging configuration widget</h2>
<p>The logging configuration widget can also be accessed using the <a class="el" href="class_qtilities_1_1_core_gui_1_1_logger_gui.html" title="A class providing static member functions to acccess and create GUIs related to the Qtilities Logging...">Qtilities::CoreGui::LoggerGui</a> class. For example:</p>
<div class="fragment"><div class="line"><span class="comment">// Get a reference to the logger configuration widget.</span></div>
<div class="line"><span class="comment">// The false parameter indicates that we don&#39;t want the Apply button to appear.</span></div>
<div class="line">QWidget* config_widget = LoggerGui::createLoggerConfigWidget(<span class="keyword">false</span>);</div>
<div class="line">config_widget-&gt;show();</div>
<div class="line"></div>
<div class="line"><span class="comment">// The returned widget implements the IConfigPage interface, thus we can register it in the global object pool to be displayed in the configuration widget as follows:</span></div>
<div class="line">OBJECT_MANAGER-&gt;registerObject(config_widget);</div>
</div><!-- fragment --><p>The obtained configuration widget will look like the image shown below:</p>
<div class="image">
<img src="logging_configuration_widget.jpg" alt="logging_configuration_widget.jpg"/>
<div class="caption">
Logging Configuration Widget</div></div>
 <h2><a class="anchor" id="logging_plugin"></a>
The example logging plugin</h2>
<p>In the <code>QtilitiesExamples</code> project there is a session log plugin which can be used in any application which makes use of the Qtilities extension system. For more information see the <a class="el" href="page_examples_and_plugins.html#plugins_overview">Plugins Overview</a> section of the <a class="el" href="page_examples_and_plugins.html">Examples and Plugins</a> page.</p>
<h1><a class="anchor" id="advanced_logging"></a>
Advanced logging possibilities</h1>
<h2><a class="anchor" id="priority_logging"></a>
Priority Logging</h2>
<p>The logger provides the ability to log priority messages. A priority message is handled in the same way as a normal message logged with logMessage() except that it also emits the newPriorityMessage() signal. This allows selective messages to be emitted and displayed in a convenient place in an application where all messages should not necessarily be displayed. An example is the case where selective messages should be displayed in a status bar. The <a class="el" href="class_qtilities_1_1_core_gui_1_1_qtilities_main_window.html" title="A class which can be used as a frontend of applications using the Qtilities libraries.">Qtilities::CoreGui::QtilitiesMainWindow</a> class provides ready to use support for priority messages.</p>
<p>Logging of priority messages is very similar to the macros already shown in this article. Below is an example where we log different types of priority messages.</p>
<div class="fragment"><div class="line"><span class="comment">// Log different type of priority messages to all engines:</span></div>
<div class="line">LOG_INFO_P(<span class="stringliteral">&quot;Priority Information Message&quot;</span>);</div>
<div class="line">LOG_WARNING_P(<span class="stringliteral">&quot;Priority Warning Message&quot;</span>);</div>
<div class="line">LOG_ERROR_P(<span class="stringliteral">&quot;Priority Error Message&quot;</span>);</div>
<div class="line">LOG_FATAL_P(<span class="stringliteral">&quot;Priority Fatal Message&quot;</span>);</div>
<div class="line">LOG_DEBUG_P(<span class="stringliteral">&quot;Priority Debug Message&quot;</span>);</div>
<div class="line">LOG_TRACE_P(<span class="stringliteral">&quot;Priority Trace Message&quot;</span>);</div>
</div><!-- fragment --><h2><a class="anchor" id="engine_specific_logging"></a>
Engine Specific Logging</h2>
<p>The Qtilities logger allows logging to a specific engine where the name of the engine is used to determine the destination of the log messages. The following lines can be added to the example above as an example where we log specific messages to all three of the engines we created.</p>
<div class="fragment"><div class="line"><span class="comment">// Log messages to each engine separately:</span></div>
<div class="line">LOG_INFO_E(<span class="stringliteral">&quot;XML File Example&quot;</span>,<span class="stringliteral">&quot;XML Information Message&quot;</span>);</div>
<div class="line">LOG_WARNING_E(<span class="stringliteral">&quot;XML File Example&quot;</span>,<span class="stringliteral">&quot;XML Warning Message&quot;</span>);</div>
<div class="line">LOG_ERROR_E(<span class="stringliteral">&quot;XML File Example&quot;</span>,<span class="stringliteral">&quot;XML Error Message&quot;</span>);</div>
<div class="line">LOG_FATAL_E(<span class="stringliteral">&quot;XML File Example&quot;</span>,<span class="stringliteral">&quot;XML Fatal Message&quot;</span>);</div>
<div class="line">LOG_DEBUG_E(<span class="stringliteral">&quot;XML File Example&quot;</span>,<span class="stringliteral">&quot;XML Debug Message&quot;</span>);</div>
<div class="line">LOG_TRACE_E(<span class="stringliteral">&quot;XML File Example&quot;</span>,<span class="stringliteral">&quot;XML Trace Message&quot;</span>);</div>
<div class="line"></div>
<div class="line">LOG_INFO_E(<span class="stringliteral">&quot;Plain File Example&quot;</span>,<span class="stringliteral">&quot;Plain Information Message&quot;</span>);</div>
<div class="line">LOG_WARNING_E(<span class="stringliteral">&quot;Plain File Example&quot;</span>,<span class="stringliteral">&quot;Plain Warning Message&quot;</span>);</div>
<div class="line">LOG_ERROR_E(<span class="stringliteral">&quot;Plain File Example&quot;</span>,<span class="stringliteral">&quot;Plain Error Message&quot;</span>);</div>
<div class="line">LOG_FATAL_E(<span class="stringliteral">&quot;Plain File Example&quot;</span>,<span class="stringliteral">&quot;Plain Fatal Message&quot;</span>);</div>
<div class="line">LOG_DEBUG_E(<span class="stringliteral">&quot;Plain File Example&quot;</span>,<span class="stringliteral">&quot;Plain Debug Message&quot;</span>);</div>
<div class="line">LOG_TRACE_E(<span class="stringliteral">&quot;Plain File Example&quot;</span>,<span class="stringliteral">&quot;Plain Trace Message&quot;</span>);</div>
<div class="line"></div>
<div class="line">LOG_INFO_E(<span class="stringliteral">&quot;HTML File Example&quot;</span>,<span class="stringliteral">&quot;HTML Information Message&quot;</span>);</div>
<div class="line">LOG_WARNING_E(<span class="stringliteral">&quot;HTML File Example&quot;</span>,<span class="stringliteral">&quot;HTML Warning Message&quot;</span>);</div>
<div class="line">LOG_ERROR_E(<span class="stringliteral">&quot;HTML File Example&quot;</span>,<span class="stringliteral">&quot;HTML Error Message&quot;</span>);</div>
<div class="line">LOG_FATAL_E(<span class="stringliteral">&quot;HTML File Example&quot;</span>,<span class="stringliteral">&quot;HTML Fatal Message&quot;</span>);</div>
<div class="line">LOG_DEBUG_E(<span class="stringliteral">&quot;HTML File Example&quot;</span>,<span class="stringliteral">&quot;HTML Debug Message&quot;</span>);</div>
<div class="line">LOG_TRACE_E(<span class="stringliteral">&quot;HTML File Example&quot;</span>,<span class="stringliteral">&quot;HTML Trace Message&quot;</span>);</div>
</div><!-- fragment --><p>For more advanced logging operations the <a class="el" href="class_qtilities_1_1_logging_1_1_logger.html#ae08eb252d640ecc78f612a2db9c28b82" title="Function to log a message.">Qtilities::Logging::Logger::logMessage()</a> function should be used directly. The logger singleton is directly accessible through the <code>Log</code> macro which returns a pointer to the logger. The log message function allows additional parameters to be passed to the logger. See the function documentation for more information.</p>
<h2><a class="anchor" id="engine_message_contexts"></a>
Message Contexts</h2>
<p>The logger groups messages using the concept of different message contexts. These contexts are described by the <a class="el" href="class_qtilities_1_1_logging_1_1_logger.html#ac784142f94ffc3279539a10e2a6265c8" title="The possible message contexts used by the logger.">Qtilities::Logging::Logger::MessageContext</a> enumeration. By default all logger engines accept messages from all message context. It is however possible to use specify combinations of message contexts explicitly for each individiual engine. For example:</p>
<div class="fragment"><div class="line"><span class="comment">// Create three file engines:</span></div>
<div class="line">QString xml_example = QCoreApplication::applicationDirPath() + <span class="stringliteral">&quot;/XML_Log.xml&quot;</span>;</div>
<div class="line">AbstractLoggerEngine* xml_file_engine = Log-&gt;newFileEngine(<span class="stringliteral">&quot;XML File Example&quot;</span>,xml_example);</div>
<div class="line">QString plain_example = QCoreApplication::applicationDirPath() + <span class="stringliteral">&quot;/Plain_Log.log&quot;</span>;</div>
<div class="line">AbstractLoggerEngine* plain_file_engine = Log-&gt;newFileEngine(<span class="stringliteral">&quot;Plain File Example&quot;</span>,plain_example);</div>
<div class="line">QString html_example = QCoreApplication::applicationDirPath() + <span class="stringliteral">&quot;/HTML_Log.html&quot;</span>;</div>
<div class="line">AbstractLoggerEngine* html_file_engine = Log-&gt;newFileEngine(<span class="stringliteral">&quot;HTML File Example&quot;</span>,html_example);</div>
<div class="line"></div>
<div class="line"><span class="comment">// Do some context related logging:</span></div>
<div class="line"><span class="keywordflow">if</span> (xml_file_engine &amp;&amp; plain_file_engine &amp;&amp; html_file_engine) {</div>
<div class="line">    xml_file_engine-&gt;setMessageContexts(Logger::SystemWideMessages);</div>
<div class="line">    plain_file_engine-&gt;setMessageContexts(Logger::EngineSpecificMessages);</div>
<div class="line">    html_file_engine-&gt;setMessageContexts(Logger::PriorityMessages);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Now log a system wide message: It will only appear in xml_file_engine.</span></div>
<div class="line">    LOG_INFO(<span class="stringliteral">&quot;System widge message&quot;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Now log some engine specific messages. Only the plain_file_engine will get the second message:</span></div>
<div class="line">    LOG_INFO_E(xml_file_engine-&gt;name(),<span class="stringliteral">&quot;Engine specific message to XML.&quot;</span>);</div>
<div class="line">    LOG_INFO_E(plain_file_engine-&gt;name(),<span class="stringliteral">&quot;Engine specific message to PLAIN.&quot;</span>);</div>
<div class="line">    LOG_INFO_E(html_file_engine-&gt;name(),<span class="stringliteral">&quot;Engine specific message to HTML.&quot;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Now log a priority message: It will only appear in the html_file_engine.</span></div>
<div class="line">    LOG_INFO_P(<span class="stringliteral">&quot;Priority message&quot;</span>);</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="extending_the_logger"></a>
Extending the logger: Create custom logger and formatting engines</h1>
<p>The logger can easily be extended by creating new logger or formatting engines by creating classes which inherits from <a class="el" href="class_qtilities_1_1_logging_1_1_abstract_logger_engine.html" title="The base class of all logger engines.">Qtilities::Logging::AbstractLoggerEngine</a> and <a class="el" href="class_qtilities_1_1_logging_1_1_abstract_formatting_engine.html" title="The base class of all formatting engines.">Qtilities::Logging::AbstractFormattingEngine</a> respectively. See the class documentation for more information. </p>
</div></div><!-- contents -->
<br><table style="table-layout:auto;	margin: auto; 	border-width:0px 0px 0px 0px; 	border-color:#7F7F7F; 	width:99%;	border-style:solid" CELLPADDING=5 RULES=ROWS FRAME=HSIDES><tr><td style="align: left;width:45%"><a href="http://github.com/JPNaude/Qtilities" title="Qtilities Repository">Qtilities</a> : <a href="index.html" title="Go back to index">Reference Documentation</a></td><td style="align: center;width:10%"><a href="#top" title="Back to top">Back to top</a> </td><td style="text-align: right;width:45%">Copyright &copy; 2009-2013, Jaco Naude</tr></table><br><script type="text/javascript">  var _gaq = _gaq || [];  _gaq.push(['_setAccount', 'UA-17785825-1']);  _gaq.push(['_trackPageview']);  (function() {    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);  })();</script>
